<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs" xmlns:iis="http://wixtoolset.org/schemas/v4/wxs/iis">
  <Fragment>
    <ComponentGroup Id="webSite">
      <ComponentRef Id="webSite" />
    </ComponentGroup>
    <PropertyRef Id="IISMAJORVERSION" />
    <Launch Condition="Installed OR IISMAJORVERSION" Message="[ProductName] requires Microsoft IIS"/>
    <DirectoryRef Id="INSTALLLOCATION">
      <Directory Id="webSite" Name="WebSite">
        <Component Id="webSite" Guid="5ed3d433-6f46-4dae-8b60-465a668d2191" KeyPath="yes">
          <iis:WebAppPool Id="webSite" Name="WebAPI" Identity="applicationPoolIdentity" ManagedRuntimeVersion="v4.0" ManagedPipelineMode="Integrated"/>
          <iis:WebSite Id="webSite" SiteId="*" Description="WebAPI Web Site" Directory="webSite" ConfigureIfExists="no">
            <iis:WebAddress Id="webSite" Port="8080" />
            <iis:WebDirProperties Id="webSite" AnonymousAccess="yes" WindowsAuthentication="no" />
            <iis:WebApplication Id="webSite" WebAppPool="webSite" Name="webSite" />
          </iis:WebSite>
        </Component>
      </Directory>
    </DirectoryRef>
  </Fragment>
</Wix>